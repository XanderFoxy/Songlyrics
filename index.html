<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Songtexte — interaktiv</title>
<style>
  :root{
    --menu-w:320px;
    --thumb-size:56px;
    --cover-side:260px;
    --bg-opacity:0.09;
    --bg-blur:6px;
    --accent:#f3c64a;
    --menu-bg:#111;
    --menu-hover:#2b2b2b;
    --text-color:#222;
    --refrain-alpha:0.18;
  }
  html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
  body{display:flex;background:#efefef;color:var(--text-color);height:100vh;overflow:hidden;}

  /* LEFT MENU */
  #menu{
    width:var(--menu-w);
    background:var(--menu-bg);
    color:#fff;
    box-sizing:border-box;
    padding:14px;
    overflow:auto;
    border-right:1px solid rgba(255,255,255,0.03);
  }
  #menu h1{margin:0 0 10px 0;font-size:18px;letter-spacing:0.3px;font-weight:600;color:var(--accent);}
  .song-entry{display:flex;gap:10px;align-items:center;padding:8px;border-radius:8px;margin-bottom:8px;cursor:pointer;transition:background .15s, transform .06s;}
  .song-entry:hover{ background:var(--menu-hover); transform:translateY(-1px); }
  .song-entry img{width:var(--thumb-size); height:var(--thumb-size);object-fit:cover;border-radius:6px;background:#666;flex:0 0 auto;}
  .meta{display:flex;flex-direction:column;min-width:0;}
  .artist{font-weight:700;font-size:15px;line-height:1;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
  .title{font-style:italic;font-size:13px;color:#ddd;margin-top:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}

  /* SEARCH */
  #searchWrap{display:flex;gap:8px;align-items:center;margin:10px 0 16px 0;}
  #search{flex:1;padding:8px;border-radius:8px;border:none;background:#1a1a1a;color:#fff;font-size:14px;}
  #search::placeholder{color:#999}

  /* CONTENT AREA */
  #content-wrap{flex:1;position:relative;display:flex;overflow:hidden;}
  #cover-bg{position:absolute;inset:0;z-index:0;pointer-events:none;background-size:cover;background-position:center;opacity:0;filter:blur(var(--bg-blur));transition:background-image .25s ease, opacity .2s ease;}
  #content{position:relative; z-index:1; padding:28px; overflow:auto; display:flex; gap:22px; align-items:flex-start; box-sizing:border-box; width:100%;}
  .lyrics{flex:1 1 auto; max-width:calc(100% - var(--cover-side) - 40px); background:rgba(255,255,255,0.9); padding:22px; border-radius:10px; box-shadow:0 6px 20px rgba(0,0,0,0.08); backdrop-filter: blur(2px); font-family: "Cormorant Garamond", "Georgia", serif; font-style:italic; font-size:18px; line-height:1.6; color:var(--text-color);}
  .lyrics h2{margin:0 0 10px 0; font-style:normal; font-size:22px; color:#111;}
  .lyrics pre{margin:0; white-space:pre-wrap; word-break:break-word; font-family:inherit; font-style:italic; font-size:17px; color:#222;}

  /* Refrain style: dynamic color applied inline via style attribute */
  .refrain{
    display:inline-block;
    padding:2px 6px;
    border-radius:6px;
    margin:2px 0;
    transition:background-color .18s, color .18s, transform .12s;
    font-weight:600;
  }
  /* fallback for very light color: use dark bold text (applied dynamically) */
  .refrain.dark{ color:#000; background:rgba(0,0,0,0.04); font-weight:700; }

  .cover-aside{width:var(--cover-side); flex:0 0 var(--cover-side); display:flex; flex-direction:column; gap:12px; align-items:center;}
  .cover-aside img{width:220px; height:220px; object-fit:cover; border-radius:8px; background:#ddd; box-shadow:0 8px 30px rgba(0,0,0,0.12);}
  .meta-right{width:100%; text-align:center; color:#333; font-family:Inter, Arial, sans-serif;}
  .meta-right .year{font-weight:600;color:#111;}
  .meta-right .artist{font-weight:700;font-size:16px;color:#111;}
  .meta-right .title{font-style:italic;color:#333;font-size:15px;margin-top:4px;}

  /* responsive */
  @media (max-width:900px){ :root{--menu-w:240px; --cover-side:180px;} .lyrics{font-size:16px;} .cover-aside img{width:160px;height:160px;} }
  @media (max-width:700px){ body{flex-direction:column;} #menu{width:100%; height:240px; border-right:none; border-bottom:1px solid rgba(0,0,0,0.06);} #content-wrap{height:calc(100vh - 240px);} .lyrics{max-width:100%;} .cover-aside{display:none;} }

  .no-img{background:linear-gradient(135deg,#ddd,#eee);display:flex;align-items:center;justify-content:center;color:#999;font-weight:600;font-size:12px;}
</style>
</head>
<body>

  <nav id="menu" aria-label="Songliste">
    <h1>Songtexte</h1>
    <div id="searchWrap"><input id="search" placeholder="Suche Künstler oder Titel..." /></div>
    <!-- entries inserted by JS -->
  </nav>

  <section id="content-wrap">
    <div id="cover-bg" aria-hidden="true"></div>

    <main id="content">
      <article class="lyrics" id="lyrics">
        <h2>Wähle einen Song</h2>
        <pre>Wähle links im Menü ein Lied aus — der Text erscheint hier. Refrains werden automatisch erkannt (wiederholte Zeilen) und farblich passend zum Album-Cover hervorgehoben.</pre>
      </article>

      <aside class="cover-aside" id="cover-aside" aria-hidden="true">
        <img id="cover-large" alt="Cover" class="no-img" />
        <div class="meta-right">
          <div class="year" id="meta-year"></div>
          <div class="artist" id="meta-artist"></div>
          <div class="title" id="meta-title"></div>
        </div>
      </aside>
    </main>
  </section>

<script>
/* --- song list (all provided songs, including Auger) --- */
const songs = [
  { artist:"Al Bano & Romina Power", title:"Domani Domani", year:"1993", image:"IMG_7281.jpeg", text:`Bar di periferia
C'è gente che ormai
Offre solo fobia
E ormai non si sa
Se avere pietà
O chiudersi il cuore
Qui l'impegno è un'idea
Si vive in apnea
Tra dubbi e rancore
È un viaggio nel peggio
Ma c'è chi dirà

Domani, domani
Finiscono i guai
Ci fanno promesse
Ma sempre le stesse
Domani, domani
Parola del mai
E intanto affonda
Lo stivale nel fango
Aspettando domani
Vedrai che domani

Qui si va sulla luna
Ma invece in tribuna
C'è chi rischia la pelle
Qui funziona il caffè
La mamma è ok
Ma poi tutto il resto?
Se giustizia è un'idea
Tu falla anche tua
Difendila sempre
Da chi ancora dirà
Le cose a metà

Domani, domani
Finiscono i guai
Ci fanno promesse
Ma sempre le stesse
Domani, domani
Parola del mai
E intanto affonda
Lo stivale nel fango
Aspettando domani
Vedrai che domani

Ma sul pozzo del tempo
Ai piedi del monte aspetterò
Per stringere tra le mie mani
Un nuovo domani

Domani, domani
Nel sole verrà
La voce di un uomo
Dimenticato
Domani, domani
Più giusto sarà
Il mondo avrà il cuore
Che hai sempre sognato

Aspetta domani
Domani, domani
Soltanto domani
Domani, domani` },

  { artist:"And One", title:"Sometimes", year:"1997", image:"IMG_7275.jpeg", text:`Daddy said that I′m a good boy,
'cause I always did his will,
but I can′t remember,
was it me? How did I feel?

I call them family,
but in the heart of hearts I know,
there's something wrong with me,
What can I do?

Mother said that I'm a good girl,
I was always dressed to kill,
but I can′t remember,
was it me? How did I feel?

Now this is long ago,
but today I′m really sure,
I don't wanna crawl no more.
No, I don′t want to!

I want to be all alone
to be all alone
(leave me all alone, I'm so lonely)
Sometimes I don′t know what I prefer to be
(that's all that I can see)

So I burnt down the house of hate,
the key to close the door,
what a nice September,
I found out it′s not too late.

It happened yesterday,
but today I'm really sure,
I don't wanna crawl no more.
No I don′t want to!

I want to be all alone
to be all alone
(leave me all alone, I′m so lonely)
Sometimes I don't know what I prefer to be
(that′s all that I can see)` },

  { artist:"Annalisa", title:"Bellissima", year:"2023", image:"IMG_7273.jpeg", text:`Insieme solo dentro casa, che senso ha?
Di me non parli con nessuno e non me lo merito
Il tuo modo di dire le cose, che sesso fa
Mi sto impegnando ad essere più elastica
Ti sto pensando e non ti scrivo da tanto, è un classico
E poi senza avvisare sei qui

Oddio però tu mi piaci, oh-oh-oh
Ho fatto i salti mortali, oh-oh-oh
No, non mi dire che è tardi, ah-ah-ah
Avevo voglia di vo-voglia di, voglia di

Dove vai? Te ne vai
Quella volta non dovevi andare via
Ero bellissima, bellissima
Dove vai? Ma che cosa vuoi?
Quella volta ti aspettavo in Saint Laurent
Ero bellissima, bellissima

Mettiamo un po' di musica da ginnastica
È tutto il giorno che mi salvo da un pianto isterico
Vado a letto col pantaloncino dell'Adidas
E poi volevo dirti che non ci dormo più
Madonna se mi manchi, sì, chiamatemi un medico
E poi senza avvisare sei qui

Oddio però tu mi piaci, oh-oh-oh
Ho fatto i salti mortali, oh-oh-oh
No, non mi dire che è tardi, ah-ah-ah
Avevo voglia di vo-voglia di, voglia di

Dove vai? Te ne vai
Quella volta non dovevi andare via
Ero bellissima, bellissima
Dove vai? Ma che cosa vuoi?
Quella volta ti aspettavo in Saint Laurent
Ero bellissima, bellissima, bellissima

Ah-ah-ah, ah-ah, bellissima
Ah-ah-ah, ah-ah, bellissima
Ah-ah-ah, ah, avevo voglia di
(Ah-ah-ah, ah-ah)
(Ah-ah-ah, ah-ah)
Avevo voglia di
(Ah-ah-ah, ah-ah)
Avevo voglia di, vo-voglia di, voglia di

Dove vai? Te ne vai
Quella volta non dovevi andare via
Ero bellissima, bellissima` },

  { artist:"CHROM", title:"Staring at the Sun", year:"2016", image:"IMG_7272.jpeg", text:`Everything I used to know
Were the things you told me
And I almost disappeared
But you came to save me
Now you left me incomplete
And I′m searching for you
Another dawn is breaking through

I'm staring at the sun
And hope that you will come
I′m staring at the sun

Everything I used to know
Were the things you told me
And I almost disappeared
But you came to save me
I can see you in my dreams
I don't wanna wake up
Another dawn is breaking through

I'm staring at the sun
And hope that you will come
I′m walking all alone
And try to find my home
I′m staring at the sun

I'm staring at the sun
And hope that you will come
I′m walking all alone
And try to find my home
I'm staring at the sun
And hope that you will come
I′m walking all alone
And try to find my home
I'm staring at the sun` },

  { artist:"Dean Martin", title:"Dinah", year:"1955", image:"IMG_7279.jpeg", text:`Dinah, is there anyone finer
In the state of Carolina
If there is and you know her
Show her to me
Dinah, with her Dixie eyes blazing
How I'd like to sit and gaze into the eyes of Dinah Lee

Every night why do I shake with fright
Because my Dinah might change her mind about me
Got to tell you about Dinah
If she went to China
I'd would hop an ocean liner
Just to be with Dinah Lee

Dinah, is there anyone finer
In the state of Carolina
If there is and you know her
Show her to me
Dinah, with her Dixie eyes blazing
How I'd like to sit and gaze into the eyes of Dinah Lee

Every night why do I shake with fright
Because my Dinah might change her mind about me
Here's the story about Dinah
If she went to China
I'd would hop an ocean liner
Just to be with Dinah Lee
Pretty Dinah Lee` },

  { artist:"Dean Martin", title:"I Don't Care If The Sun Don't Shine", year:"1950", image:"IMG_7274.jpeg", text:`I don′t care if the sun don't shine
I get my lovin′ in the evening time
When I'm with my baby

It's no fun with the sun around
But I get going when the sun goes down
And I meet my baby

That′s when we kiss and kiss and kiss
And then we kiss some more
Don′t ask how many times we kiss
At a time like this, who keeps score?

So I don't care if the sun don't shine
I get my lovin' in the evening time
When I'm with my baby

That's when we kiss and kiss and kiss
And then we kiss some more
Don′t ask how many times we kiss
At a time like this, who keeps score?

So I don't care if the sun don't shine
I get my lovin′ in the evening time
When I′m with my baby` },

  { artist:"Helloween", title:"I Want Out", year:"1988", image:"IMG_7283.jpeg", text:`From our lives beginning on
We are pushed in little forms
No one asks us how we like to be
In school they teach you what to think
But everyone says different things
But they're all convinced that
They're the ones to see

So they keep talking and they never stop
And at a certain point you give it up
So the only thing that's left to think is this

I want out
To live my life alone
I want out
leave me be
I want out
To do things on my own
I want out
To live my life and to be free

People tell me A and B
They tell me how I have to see
Things that I have seen already clear
So they push me then from side to side
They're pushing me from black to white
They're pushing 'til there's nothing more to hear

But don't push me to the maximum
Shut your mouth and take it home
Cause I decide the way things gonna be

I want out
To live my life alone
I want out
leave me be
I want out
To do things on my own
I want out
To live my life and to be free

There's a million ways to see the things in life
A million ways to be the fool
In the end of it, none of us is right
Sometimes we need to be alone

No, no, no, leave me alone

I want out
To live my life alone
I want out
leave me be
I want out
To do things on my own
I want out
To live my life and to be free

I want out!` },

  { artist:"Imperative Reaction", title:"Glass", year:"2021", image:"IMG_7276.jpeg", text:`Time is fading
While I'm failing
To communicate to you
Life is fleeting
And void of meaning
If I can't live it with you

I can see you but I can't reach through the glass
In time show you we can break away from the past

Years will go by
And I will still try
To communicate to you
I will follow
Into tomorrow
My forever is you

I can see you but I can't reach through the glass
In time show you we can break away from the past

I can see you but I can't reach through the glass
In time show you we can break away from the past` },

  { artist:"Auger Feat. Bonnie Mavis", title:"Too Soon", year:"2025-09-26", image:"IMG_7284.jpeg", text:`[Verse 1]
I bit my tongue but the words kept tryna reach you, what could I do?
There's something about the way it feels, with you
Every word and awkward conversation made it clear
There's something about the way it feels, with you

[Chorus]
I'm standing in the doorway trying to be strong
I wanna say I love you but it feels wrong
I'm worried what'll happen next but I guess I'll wait
It's too soon to care but too late to change

[Verse 2]
Picture this, lying on the grass at sunset counting stars
I think about it all the time
But in my dream, I would turn to kiss you and you'd be gone
I think about it all the time

[Chorus]
I'm standing in the doorway trying to be strong
I wanna say I love you but it feels wrong
I'm worried what'll happen next but I guеss I'll wait
It's too soon to care but too late to change

[Bridge]
Too soon to carе but too late to change
Too soon to care but too late to change
I feel like this anxiety is pulling me in front of you
It's building up inside of me with everything I do
It's hard to think when air is thin, I breath in three and hold for two
I want you more than anything there's nothing I won't do

[Chorus]
I'm standing in the doorway trying to be strong
I wanna say I love you but it feels wrong
I'm worried what'll happen next but I guess I'll wait
It's too soon to care but too late to change

[Outro]
Too soon to care but too late to change
Too soon to care but too late to change
Standing in the doorway, standing in the doorway` },

  { artist:"X-Marks The Pedwalk", title:"Fading Waves", year:"2023", image:"IMG_7277.jpeg", text:`In my mind I feel a fire rain
And my heartbeat's raging loud and wild
In my dreams a paradise – again
Won’t wake up and stay there for a while

Can‘t moving on
Can‘t moving on

Seasons drowned in flood of tears
Sorrow on a broken shore

I just want to walk through fading waves
I just want to walk through fading waves
And past the ocean‘s haze
Change these dying days
I just want to walk through fading waves

Can‘t moving on
Can‘t moving on

Hope and faith are buried, ghosts in chains
All my gods have turned away, no time
There is no pray and I don't lose a game
I would like to save a life – mine

Seasons drowned in flood of tears
Sorrow on a broken shore

I just want to walk through fading waves
I just want to walk through fading waves
And past the ocean‘s haze
Change these dying days
I just want to walk through fading waves

fading waves` },

  { artist:"YUNGBLUD", title:"Zombie", year:"2025", image:"IMG_7271.jpeg", text:`If I was to talk about the words
They would hurt, they would hurt
So if you were to ask about the pain
I would lie, I would lie
To fix my mind, I need time

But it′s runnin' out, it′s runnin' out

Oh, I know that I can't live without you
But this world will keep turning if you do
Would you even want me looking like a zombie?
Would you even want me, want me, want me?

We could catch a spaceship to the moon
But we′d crash, it wouldn′t last
Because the world is just a figment of the fools
A blank stare, they don't care
So say your prayers, you′re almost there

But it's runnin′ out, it's runnin′ out

Oh, I know that I can't live without you
But this world will keep turning if you do
Would you even want me looking like a zombie?
Would you even want me, want me, want me?
Would you even want me looking like a zombie?
Would you even want me, want me, want me?

Oh, I don't know what I′ll turn out to be
But you′ll own every moment, believe me
Would you even want me looking like a zombie?
Would you even want me, want me, want me?` }
]; // end songs

/* --- sort alphabetically by artist then title (already mostly sorted) --- */
songs.sort((a,b)=>{
  const A=a.artist.toLowerCase(), B=b.artist.toLowerCase();
  if(A<B) return -1; if(A>B) return 1;
  const T1=a.title.toLowerCase(), T2=b.title.toLowerCase();
  if(T1<T2) return -1; if(T1>T2) return 1; return 0;
});

/* --- util: escape html --- */
function escapeHtml(s){ if(!s) return ''; return s.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;'); }

/* --- detect repeated lines (simple) and wrap them in <span class="refrain"> --- */
function markRefrains(text){
  // normalize: split lines, trim, collapse multi-spaces
  const lines = text.split(/\r?\n/).map(l=>l.replace(/\s+/g,' ').trim());
  const counts = {};
  lines.forEach(l=>{ if(l) counts[l]=(counts[l]||0)+1; });
  // we will consider a line a refrain if it occurs more than once OR it's bracketed like [Chorus] etc.
  const isRefrainLine = (l) => {
    if(!l) return false;
    const low = l.toLowerCase();
    if(/\[(chorus|refrain|hook|outro|verse|bridge)\]/i.test(l)) return true;
    return (counts[l]||0) > 1;
  };
  // produce HTML with spans for refrain lines and preserve blank lines
  const out = lines.map(l => {
    if(!l) return ''; // blank line -> keep as blank
    if(isRefrainLine(l)){
      // escape and wrap
      return `<span class="refrain">${escapeHtml(l)}</span>`;
    } else {
      return escapeHtml(l);
    }
  });
  return out.join('\n');
}

/* --- color extraction from image (dominant average) --- */
function getAverageColorFromImage(img, callback){
  // use an offscreen canvas
  const canvas = document.createElement('canvas');
  const ctx = canvas.getContext('2d');
  const w = 40, h = 40; // sample small for speed
  canvas.width = w; canvas.height = h;
  // draw after image loaded; handle crossOrigin if necessary
  try {
    ctx.drawImage(img,0,0,w,h);
  } catch(e){
    // drawing failed (cross-origin), fallback to neutral color
    callback({r:200,g:200,b:200});
    return;
  }
  const data = ctx.getImageData(0,0,w,h).data;
  let r=0,g=0,b=0,count=0;
  for(let i=0;i<data.length;i+=4){
    const alpha = data[i+3];
    if(alpha<50) continue;
    r += data[i]; g += data[i+1]; b += data[i+2]; count++;
  }
  if(count===0) return callback({r:200,g:200,b:200});
  r = Math.round(r/count); g = Math.round(g/count); b = Math.round(b/count);
  callback({r,g,b});
}

/* --- helper: convert rgb to hsl & brightness --- */
function getBrightness(r,g,b){ return (0.299*r + 0.587*g + 0.114*b); }
function rgbToCss(r,g,b){ return `rgb(${r},${g},${b})`; }
function rgbaCss(r,g,b,a){ return `rgba(${r},${g},${b},${a})`; }

/* --- build menu entries --- */
const menu = document.getElementById('menu');
const searchInput = document.getElementById('search');
const content = document.getElementById('lyrics');
const coverBg = document.getElementById('cover-bg');
const coverLarge = document.getElementById('cover-large');
const metaYear = document.getElementById('meta-year');
const metaArtist = document.getElementById('meta-artist');
const metaTitle = document.getElementById('meta-title');

function makeEntry(song){
  const div = document.createElement('div'); div.className='song-entry';
  const img = document.createElement('img');
  if(song.image){ img.src = song.image; img.alt=`${song.artist} - ${song.title}`;
    img.onerror = ()=>{ img.removeAttribute('src'); img.classList.add('no-img'); img.alt='kein Cover'; img.textContent='NO IMG'; };
  } else { img.classList.add('no-img'); img.alt='kein Cover'; img.textContent='NO IMG'; }
  const meta = document.createElement('div'); meta.className='meta';
  const a = document.createElement('div'); a.className='artist'; a.textContent = song.artist || '';
  const t = document.createElement('div'); t.className='title'; t.textContent = song.title || '';
  meta.appendChild(a); meta.appendChild(t);
  div.appendChild(img); div.appendChild(meta);
  div.addEventListener('click', ()=>showSong(song));
  return div;
}

function renderMenu(filter){
  // clear existing entries except heading and search
  Array.from(menu.querySelectorAll('.song-entry')).forEach(n=>n.remove());
  const q = (filter||'').trim().toLowerCase();
  songs.forEach(s=>{
    if(q){
      const inArtist = (s.artist||'').toLowerCase().includes(q);
      const inTitle  = (s.title||'').toLowerCase().includes(q);
      if(!inArtist && !inTitle) return;
    }
    menu.appendChild(makeEntry(s));
  });
}

/* --- show song: compute refrains, set bg cover, compute color --- */
function showSong(song){
  // set cover-bg and large cover
  if(song.image){
    coverBg.style.backgroundImage = `url("${song.image}")`; coverBg.style.opacity = '1';
    coverLarge.classList.remove('no-img'); coverLarge.src = song.image; coverLarge.alt = `${song.artist} - ${song.title}`;
    coverLarge.onerror = ()=>{ coverLarge.removeAttribute('src'); coverLarge.classList.add('no-img'); coverLarge.alt='kein Cover'; };
    // create an img element to analyze color
    const img = new Image();
    img.src = song.image;
    img.crossOrigin = "anonymous";
    img.onload = ()=>{
      getAverageColorFromImage(img, ({r,g,b})=>{
        const brightness = getBrightness(r,g,b);
        // decide color: if very light, use dark bold style
        const lightThresh = 200;
        if(brightness > lightThresh){
          // make refrains dark bold
          applyRefrainStyle({dark:true});
        } else {
          // create rgba for background and color for text
          const textColor = rgbToCss(r,g,b);
          const bg = rgbaCss(r,g,b,0.12);
          applyRefrainStyle({dark:false, color:textColor, bg:bg});
        }
      });
    };
    img.onerror = ()=>{ applyRefrainStyle({dark:true}); };
  } else {
    coverBg.style.backgroundImage = ''; coverBg.style.opacity = '0';
    coverLarge.removeAttribute('src'); coverLarge.classList.add('no-img'); coverLarge.alt='kein Cover';
    applyRefrainStyle({dark:true});
  }

  // build lyric HTML with refrains marked
  const marked = markRefrains(song.text);
  content.innerHTML = `<h2>${escapeHtml(song.artist)} — ${escapeHtml(song.title)}</h2><pre>${marked}</pre>`;
  metaYear.textContent = song.year || ''; metaArtist.textContent = song.artist || ''; metaTitle.textContent = song.title || '';
}

/* --- apply dynamic refrain style: loops existing .refrain elements --- */
function applyRefrainStyle(opts){
  const R = document.querySelectorAll('.refrain');
  R.forEach(el => {
    if(opts.dark){
      el.classList.add('dark');
      el.style.color=''; el.style.background='';
    } else {
      el.classList.remove('dark');
      el.style.color = opts.color || '';
      // subtle background using rgba derived from color with low alpha
      el.style.background = opts.bg || '';
    }
  });
}

/* --- initial render --- */
renderMenu();
if(songs.length) showSong(songs[0]);

/* --- search behaviour --- */
searchInput.addEventListener('input', ()=> renderMenu(searchInput.value));

</script>

</body>
</html>
