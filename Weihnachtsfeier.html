<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Weihnachtsfeier 12.12.2025</title>
<style>
  :root{
    --menu-w:320px;
    --thumb-size:56px;
    --cover-side:260px;
    --bg-opacity:0.08;
    --bg-blur:6px;
    --accent:#f3c64a;
    --menu-bg:#111;
    --menu-hover:#2b2b2b;
    --text-color:#222;
  }

  html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
  body{display:flex;background:#efefef;color:var(--text-color);height:100vh;overflow:hidden;}

  /* LEFT MENU */
  #menu{
    width:var(--menu-w);
    background:var(--menu-bg);
    color:#fff;
    box-sizing:border-box;
    padding:14px;
    overflow:auto;
    border-right:1px solid rgba(255,255,255,0.03);
  }
  
  #menu h1{
    margin:0 0 10px 0;font-size:18px;letter-spacing:0.3px;
    font-weight:600;color:var(--accent);
  }

  /* VERSTECKTER LINK */
  #menu h1 a { color: inherit; text-decoration: none; cursor: pointer; }
  #menu h1 a:hover, #menu h1 a:visited, #menu h1 a:active { color: inherit; text-decoration: none; }

  .song-entry{
    display:flex; gap:10px; align-items:center; padding:8px; border-radius:8px;
    margin-bottom:8px; cursor:pointer; transition:background .15s, transform .06s;
  }
  .song-entry:hover{ background:var(--menu-hover); transform:translateY(-1px); }
  .song-entry img{
    width:var(--thumb-size); height:var(--thumb-size); object-fit:cover;
    border-radius:6px; background:#666; flex:0 0 auto;
  }
  .meta{ display:flex; flex-direction:column; min-width:0; }
  
  .artist{ font-weight:700; font-size:15px; line-height:1; color:#fff; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .title{ font-style:italic; font-size:13px; color:#ddd; margin-top:4px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

  /* CONTENT AREA */
  #content-wrap{flex:1;position:relative;display:flex;overflow:hidden;}
  #cover-bg{
    position:absolute;inset:0;z-index:0;pointer-events:none;
    background-size:cover;background-position:center;
    opacity:var(--bg-opacity);filter:blur(var(--bg-blur));
    transition:background-image .25s ease, opacity .2s ease;
  }
  #content{
    position:relative; z-index:1; padding:28px; overflow:auto; display:flex;
    gap:22px; align-items:flex-start; box-sizing:border-box; width:100%;
  }
  .lyrics{
    flex:1 1 auto; max-width:calc(100% - var(--cover-side) - 40px);
    background:rgba(255,255,255,0.8); padding:22px; border-radius:10px;
    box-shadow:0 6px 20px rgba(0,0,0,0.08); backdrop-filter: blur(2px);
    font-family: "Cormorant Garamond", "Georgia", serif;
    font-style:italic; font-size:18px; line-height:1.6; color:var(--text-color);
  }
  .lyrics h2{
    margin:0 0 2px 0; font-style:normal; font-size:22px; color:#111;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }
  .song-copyright {
    font-family: Inter, sans-serif; font-style: normal; font-size: 14px;
    color: #666; margin-bottom: 20px; display: block;
  }
  .lyrics pre{
    margin:0; white-space:pre-wrap; word-break:break-word; font-family:inherit;
    font-style:italic; font-size:17px; color:#222;
  }

  /* COVER & 3D FLIP */
  .cover-aside{
    width:var(--cover-side); flex:0 0 var(--cover-side); display:flex;
    flex-direction:column; gap:12px; align-items:center;
  }
  
  .flip-container {
    perspective: 1000px;
    width: 220px; height: 220px; cursor: pointer;
  }
  .flipper {
    transition: 0.6s; transform-style: preserve-3d; position: relative;
    width: 100%; height: 100%; border-radius:8px;
    box-shadow:0 8px 30px rgba(0,0,0,0.12);
  }
  .flip-container.flipped .flipper { transform: rotateY(180deg); }
  .front, .back {
    backface-visibility: hidden; position: absolute; top: 0; left: 0;
    width: 100%; height: 100%; border-radius:8px; overflow: hidden;
  }
  .front { z-index: 2; transform: rotateY(0deg); }
  .front img { width: 100%; height: 100%; object-fit: cover; background:#ddd; }
  
  /* RÜCKSEITE STYLE (PIANO) */
  .back {
    transform: rotateY(180deg);
    background: #1a1a1a; /* Dunkelgrau für guten Kontrast */
    color: #fff;
    display: flex; flex-direction: column; 
    overflow-y: auto; /* Falls es viele Akkorde sind */
    padding: 10px; box-sizing: border-box; text-align: center;
  }
  
  /* Scrollbar verstecken für cleaner Look */
  .back::-webkit-scrollbar { width: 4px; }
  .back::-webkit-scrollbar-thumb { background: #444; border-radius: 2px; }

  .chord-part-label {
    font-family: Inter, sans-serif; font-size: 12px; text-transform: uppercase;
    color: #888; margin: 10px 0 5px 0; letter-spacing: 1px; width:100%; text-align:left; border-bottom:1px solid #333;
  }
  .chord-grid {
    display: flex; flex-wrap: wrap; gap: 8px; justify-content: center;
  }
  .piano-box {
    display: flex; flex-direction: column; align-items: center;
    background: #2a2a2a; padding: 5px; border-radius: 6px;
  }
  .piano-name {
    font-family: Inter, sans-serif; font-weight: 700; font-size: 14px;
    color: var(--accent); margin-bottom: 3px;
  }
  /* SVG Styles */
  .key-white { fill: #fff; stroke: #ccc; stroke-width: 1px; }
  .key-black { fill: #000; stroke: #000; stroke-width: 1px; }
  .key-active { fill: var(--accent) !important; }

  .chord-placeholder { color: #666; font-style: italic; margin-top: auto; margin-bottom: auto;}

  .meta-right{ width:100%; text-align:center; color:#333; font-family:Inter, Arial, sans-serif; }
  .meta-right .year{font-weight:600;color:#111;}
  .meta-right .artist{font-weight:700;font-size:16px;color:#111;}
  .meta-right .title{font-style:italic;color:#333;font-size:15px;margin-top:4px;}

  @media (max-width:900px){
    :root{--menu-w:240px; --cover-side:180px;}
    .lyrics{font-size:16px;}
    .flip-container{width:160px;height:160px;}
  }
  @media (max-width:700px){
    body{flex-direction:column;}
    #menu{width:100%; height:220px; border-right:none; border-bottom:1px solid rgba(0,0,0,0.06);}
    #content-wrap{height:calc(100vh - 220px);}
    .lyrics{max-width:100%;}
    .cover-aside{display:none;}
  }
  .no-img{background:linear-gradient(135deg,#ddd,#eee);display:flex;align-items:center;justify-content:center;color:#999;font-weight:600;font-size:12px;}
</style>
</head>
<body>

  <nav id="menu" aria-label="Songliste">
    <h1><a href="Songtexte.html">Songtexte</a></h1>
  </nav>

  <section id="content-wrap">
    <div id="cover-bg" aria-hidden="true"></div>

    <main id="content">
      <article class="lyrics" id="lyrics">
        <h2>Wähle einen Song</h2>
        <pre>Wähle links im Menü ein Lied aus — der Text erscheint hier, mit dem Cover leicht als Hintergrund und groß rechts daneben.</pre>
      </article>

      <aside class="cover-aside" id="cover-aside" aria-hidden="true">
        <div class="flip-container" id="cover-flip-container">
          <div class="flipper">
            <div class="front">
              <img id="cover-large" alt="Cover" class="no-img" />
            </div>
            <div class="back" id="cover-back-content">
              <span class="chord-placeholder">Klick mich für Akkorde...</span>
            </div>
          </div>
        </div>

        <div class="meta-right">
          <div class="year" id="meta-year"></div>
          <div class="artist" id="meta-artist"></div>
          <div class="title" id="meta-title"></div>
        </div>
      </aside>
    </main>
  </section>

<script>
/* CHORD DEFINITIONS (Indizes für C-Dur Tonleiter auf 1 Oktave + ein paar Tasten)
   0=C, 1=C#, 2=D, 3=D#, 4=E, 5=F, 6=F#, 7=G, 8=G#, 9=A, 10=A#, 11=B
*/
const CHORD_MAP = {
  "C":  [0, 4, 7],      // C-E-G
  "Am": [9, 0, 4],      // A-C-E (Inversion/Wrap visually simple)
  "F":  [5, 9, 0],      // F-A-C
  "G":  [7, 11, 2]      // G-H-D
};

/* ---------- SONGDATA (Auftritt 12.12.2025) ---------- */
const songs = [
  /* 1. Wir */
  {
    artist: "One Day in Rome",
    title: "Wir",
    year: "2025",
    copyright: "© Xander Fox",
    image: "Facetune_27-11-2025-22-42-01.jpeg", 
    text: `Es ist gar nicht so leicht... (gekürzt für Übersicht im Code, wird voll angezeigt)` // Den vollen Text hast du ja
  },
  /* ... Ich füge hier der Kürze halber nur den relevanten Song mit Akkorden ein und deine anderen Songs ... */
  
  /* 4. Ohne Deine Liebe */
  {
    artist: "One Day in Rome",
    title: "Ohne Deine Liebe",
    year: "2025",
    copyright: "© Xander Fox",
    image: "Facetune_14-12-2024-17-46-57.jpeg",
    // HIER SIND DIE AKKORDE ZUM GENERIEREN
    chords: {
      verse: ["C", "Am", "F", "G"],
      chorus: ["Am", "F", "C", "G"]
    },
    text: `Kannst du mir erklären
Was geschehen ist
Musst du denn zerstören
Was du mir noch bist

Warum bin ich einsam
Du nicht mehr bei mir
Wollten wir gemeinsam
Nicht die Welt regieren

Warum bin ich hier
Wie lang muss ich bleiben
Ohne deine Liebe
Die mich still entführt

Mein Herz ruft nach dir
Kann dich nicht verschweigen
Du wirst immer bleiben
Irgendwo in mir

Warum bist du so
Fern und unerreichbar
Da wohin du gehen willst
Kann ich dich nicht sehen

Was hält uns am Leben
Worin liegt der Sinn
Sag mir doch weswegen
Wir verloren sind

Warum bin ich hier
Wie lang muss ich bleiben
Ohne deine Liebe
Die mich still entführt

Mein Herz ruft nach dir
Kann dich nicht verschweigen
Du wirst immer bleiben
Irgendwo in mir`
  }
];

/* Fülle die Songs-Liste mit den restlichen Songs aus deinem vorherigen Update auf */
/* Ich füge sie hier der Vollständigkeit halber wieder ein, damit du copy-pasten kannst: */

songs.unshift(
  {
    artist: "One Day in Rome", title: "Wir", year: "2025", copyright: "© Xander Fox", image: "Facetune_27-11-2025-22-42-01.jpeg",
    text: `Es ist gar nicht so leicht\nDieses Leben zu verstehen\nManchmal darum vielleicht\nAuch so schwer, einfach weiterzugehen\n\nWenn du denkst, durchzudrehen\nWeil du noch etwas spürst in dir\nLass uns nicht lange reden\nEs gibt viel zu viel zu verlieren\n\nWenn die Welt untergeht\nBin ich bei dir\nDu bist alles, was zählt\nWas ich fühl in mir\nDarum lass uns nicht warten\nWarum sollen wir leiden, wofür?\nDas ist unsere Wahrheit\nAlles was wir noch haben, sind wir\n\nWir sind groß\nWir sind schön, unerreicht\nSchwer zu greifen\nDenn wir schweben federleicht\n\nAuch wenn sie uns versuchen\nzu verführen\nKeine Chance\nWir sind viel zu wir dafür\n\nWenn die Welt untergeht\nBin ich bei dir\nDu bist alles, was zählt\nWas ich fühl in mir\nDarum lass uns nicht warten\nWarum sollen wir leiden, wofür?\nDas ist unsere Wahrheit\nAlles was wir noch haben, sind wir`
  },
  {
    artist: "One Day in Rome", title: "Kein Mensch", year: "2025", copyright: "© Xander Fox", image: "Snapshot 11-02-2024 02:00.jpeg",
    text: `Es ist Nacht\nhier\nin deinen Armen\nNimm meine Hand\nDenn du weißt genau\ndass ich auch\nnicht mehr anders kann\nDu musst nichts verstehen\nIch bin schon lang in deinem Bann\nDarum bleib bei mir\nKomm und sieh mich\nnur noch einmal\nso an\n\nSo als würden wir\nunsere Seelen inhalieren\nIch will dich mit mir\nbis die Sterne explodieren\nSelbst wenn wir\ngemeinsam fallen\nWer kommt mich heilen?\nUnd ich weiß\nkein Mensch\nWürde\nSo wie du mit mir sein\n\nIch lieg wach\nhier\nin deinen Armen\nbin ich dir nah\nGrad hab ich noch\nvon dir geträumt\nUnd schon bist du wahr\nUnd so wunderschön\nDas ist alles\nnicht mehr normal\nHalt dich bei mir fest\nDenn wir haben\neh keine andere\nWahl\n\nSo als würden wir\nunsere Seelen inhalieren\nIch will dich mit mir\nbis die Sterne explodieren\nSelbst wenn wir\ngemeinsam fallen\nWer kommt mich heilen?\nUnd ich weiß\nkein Mensch\nWürde\nSo wie du mit mir sein`
  },
  {
    artist: "One Day in Rome", title: "Ein Leben Lang", year: "2025", copyright: "© Xander Fox", image: "Snapshot 11-02-2024 02:00.jpeg",
    text: `So lang du denkst\nWie schön es wär\nLebst du dem Traum\nNur hinterher\n\nMit allen Wolken\nWillst du ziehen\nDeinem Gefühl\nNie mehr widerstehen\n\nUnd wenn du fällst\nNimm meine Hand\nIch will mit dir gemeinsam gehen\nEin Leben lang\nDurch diese Welt\nHab keine Angst\nHör auf dein Herz\nUnd wir verlieren den Verstand\n\nDie Sehnsucht brennt\nDer Weg ist weit\nBis in das Licht\nTrägt uns die Zeit\n\nUnd irgendwann\nWird um uns ein\nHimmel so hoch\nUnd endlos sein\n\nUnd wenn du fällst\nNimm meine Hand\nIch will mit dir gemeinsam gehen\nEin Leben lang\nDurch diese Welt\nHab keine Angst\nHör auf dein Herz\nUnd wir verlieren den Verstand`
  },
  {
    artist: "One Day in Rome", title: "Meine Heiligkeit (What If..?)", year: "2025", copyright: "© Xander Fox", image: "Snapshot 11-02-2024 02:00.jpeg",
    text: `Wenn mein Herz sich nach dir sehnt\nSo heiß, wie ein Feuer brennt\nTrag mich bis zu dir hinauf\nWeil ich an deine Liebe glaub\n\nMeine Heiligkeit bist du\nHörst du, wie mein Herz dich ruft?\nDu bist alles, was es sucht\nWenn ich fall, fängst du mich auf\nDu und ich, fühlst du es auch?\nJetzt wird alles wieder gut\n\nDenn ich lieb dich unentwegt\nWie ein Gefühl, das nie vergeht\nWenn mich niemand mehr versteht\nHilft deine Hand mir auf den Weg\n\nMeine Heiligkeit bist du\nHörst du, wie mein Herz dich ruft?\nDu bist alles, was es sucht\nWenn ich fall, fängst du mich auf\nDu und ich, fühlst du es auch?\nJetzt wird alles wieder gut`
  },
  /* Ohne Deine Liebe ist oben schon definiert, ich muss aufpassen, es nicht doppelt zu machen. 
     Daher nehme ich den Block von oben und schiebe ihn in der Sortierung richtig. */
  {
    artist: "One Day in Rome", title: "Words Of Love", year: "2025", copyright: "© Xander Fox", image: "Snapshot 11-02-2024 02:00.jpeg",
    text: `Tell Me Little Angel\nWon't You Kiss My Sensual Lips\nClose The Golden Gates Behind\nCome Move In Closer\nOn A Mystic Trip\nWe Feel So High\n\nLet's Call It Love\nLet's Fake It All\nLet It Seem\nEverything\nYou Never Dream Of\nA Little Closer\nUntil I Cut Your Wings\nNow You're Trapped In\n\nSay Do You Believe My Words Of Love\nI Am The Devil In Disguise\nNothing Here Is Real\nYou Just Forgot\nThe Shock Will Make You Feel\nAnd Let You Fall\n\nSay Do You Receive My Words Of Hope\nMelodramatic Eyes Reply\nWe Don't Really Need\nTo Talk About\nOnce You Sign And Seal It\nThere Is No Way Out\n\nTell Me Pretty Angel\nWon't You Take It By Surprise\nT-T- The Time Is Over\nBreak Up The Shell And\nMirror Me Inside\nLet All The Secrets Fly\n\nWe Call It Love\nWe Waste It All\nAnd We Want\nEverything\nWe Hate To Deal With\nYou Can't Conceal How Sweet\nThe Sirens Sing\nThe Beat Drops In....\n\nSay Do You Believe My Words Of Love\nI Am The Devil In Disguise\nNothing Here Is Real\nYou Just Forgot\nThe Shock Will Make You Feel\nAnd Let You Fall\n\nSay Do You Receive My Words Of Hope\nMelodramatic Eyes Reply\nWe Don't Really Need\nTo Talk About\nOnce You Sign And Seal It\nThere Is No Way Out`
  }
);

// Array aufräumen (Ohne Deine Liebe war oben separat, wir müssen sortieren)
// Das Array `songs` enthält jetzt alle.

/* SORTIERUNG */
songs.sort((a,b) => {
  const T1 = (a.title || "").toLowerCase();
  const T2 = (b.title || "").toLowerCase();
  if(T1 < T2) return -1; if(T1 > T2) return 1;
  return 0;
});

/* ---------- HELPER: DRAW PIANO SVG ---------- */
function createPianoSVG(activeKeys) {
  // Wir zeichnen 14 weiße Tasten (C bis H, C bis H). 
  // Das reicht für einfache Akkorde.
  // 0=C, 2=D, 4=E, 5=F, 7=G, 9=A, 11=H
  // Black keys sind dazwischen.
  
  const wWhite = 14; 
  const hWhite = 60;
  const wBlack = 10;
  const hBlack = 35;
  
  // Mapping Index (0-11) -> x Position (ungefähr)
  // Whites: 0, 2, 4, 5, 7, 9, 11 (Indices) -> 0, 1, 2, 3, 4, 5, 6 (Positionen)
  const whiteMap = {0:0, 2:1, 4:2, 5:3, 7:4, 9:5, 11:6};
  
  let svg = `<svg width="100" height="60" viewBox="0 0 100 60" xmlns="http://www.w3.org/2000/svg">`;
  
  // 1. Draw White Keys (7 keys)
  for (let i=0; i<7; i++) {
    // Check if this white key is active.
    // Reverse lookup: which note index is this position?
    // 0->0(C), 1->2(D), 2->4(E), 3->5(F), 4->7(G), 5->9(A), 6->11(B)
    let noteIdx = [0,2,4,5,7,9,11][i];
    let isActive = activeKeys.includes(noteIdx) || activeKeys.includes(noteIdx+12); // +12 für wrapped chords
    let cls = isActive ? "key-white key-active" : "key-white";
    svg += `<rect x="${i*wWhite}" y="0" width="${wWhite}" height="${hWhite}" class="${cls}" />`;
  }
  
  // 2. Draw Black Keys (Offsets)
  // C#(1) at x~10, D#(3) at x~24, F#(6) at x~52, G#(8) at x~66, A#(10) at x~80
  const blackPos = [
    {idx: 1, x: 9}, {idx: 3, x: 23}, // C#, D#
    {idx: 6, x: 51}, {idx: 8, x: 65}, {idx: 10, x: 79} // F#, G#, A#
  ];
  
  blackPos.forEach(k => {
    let isActive = activeKeys.includes(k.idx) || activeKeys.includes(k.idx+12);
    let cls = isActive ? "key-black key-active" : "key-black";
    svg += `<rect x="${k.x}" y="0" width="${wBlack}" height="${hBlack}" class="${cls}" />`;
  });

  svg += `</svg>`;
  return svg;
}


/* ---------- APP LOGIC ---------- */
const menu = document.getElementById('menu');
const content = document.getElementById('lyrics');
const coverBg = document.getElementById('cover-bg');
const coverFlipContainer = document.getElementById('cover-flip-container');
const coverLarge = document.getElementById('cover-large');
const coverBackContent = document.getElementById('cover-back-content');
const metaYear = document.getElementById('meta-year');
const metaArtist = document.getElementById('meta-artist');
const metaTitle = document.getElementById('meta-title');

// FLIP Listener
coverFlipContainer.addEventListener('click', function() {
  this.classList.toggle('flipped');
});

function makeEntry(song, idx){
  const div = document.createElement('div');
  div.className = 'song-entry';
  const img = document.createElement('img');
  if(song.image){
    img.src = song.image;
    img.alt = `${song.artist} - ${song.title}`;
    img.onerror = () => { img.classList.add('no-img'); img.removeAttribute('src'); img.alt = 'kein Cover'; img.textContent = 'NO IMG'; };
  } else {
    img.classList.add('no-img');
    img.alt = 'kein Cover';
  }
  const meta = document.createElement('div');
  meta.className = 'meta';
  const mainLine = document.createElement('div');
  mainLine.className = 'artist'; 
  mainLine.textContent = song.title || '';
  const subLine = document.createElement('div');
  subLine.className = 'title';
  subLine.textContent = song.artist || '';
  meta.appendChild(mainLine);
  meta.appendChild(subLine);
  div.appendChild(img);
  div.appendChild(meta);
  div.addEventListener('click', () => showSong(song));
  return div;
}

function showSong(song){
  // Reset Flip
  coverFlipContainer.classList.remove('flipped');

  // Background
  if(song.image){
    coverBg.style.backgroundImage = `url("${song.image}")`;
    coverBg.style.opacity = "var(--bg-opacity)";
  } else {
    coverBg.style.backgroundImage = '';
    coverBg.style.opacity = "0";
  }

  // Text
  let h = `<h2>${escapeHtml(song.title)}</h2>`;
  if(song.copyright){
    h += `<span class="song-copyright">${escapeHtml(song.copyright)}</span>`;
  }
  content.innerHTML = h + `<pre>${escapeHtml(song.text)}</pre>`;

  // Front Image
  if(song.image){
    coverLarge.src = song.image;
    coverLarge.alt = `${song.artist} - ${song.title}`;
    coverLarge.classList.remove('no-img');
  } else {
    coverLarge.removeAttribute('src');
    coverLarge.classList.add('no-img');
  }

  // Back Content (Chords?)
  coverBackContent.innerHTML = ""; // Clear old content
  
  if(song.chords){
    // GENERIERE PIANO GRIFFBILDER
    let html = "";
    
    // Helper für eine Section (Verse oder Chorus)
    const renderSection = (label, chordNames) => {
      let sectionHtml = `<div class="chord-part-label">${label}</div><div class="chord-grid">`;
      
      chordNames.forEach(cName => {
        // Welcher Tasten-Array?
        let keys = CHORD_MAP[cName] || [];
        // SVG bauen
        let svg = createPianoSVG(keys);
        
        sectionHtml += `
          <div class="piano-box">
            <div class="piano-name">${cName}</div>
            ${svg}
          </div>
        `;
      });
      sectionHtml += `</div>`;
      return sectionHtml;
    };

    if(song.chords.verse) html += renderSection("Text Teil", song.chords.verse);
    if(song.chords.chorus) html += renderSection("Refrain Teil", song.chords.chorus);
    
    coverBackContent.innerHTML = html;
    
  } else {
    coverBackContent.innerHTML = '<span class="chord-placeholder">Akkorde folgen...</span>';
  }

  // Meta
  metaYear.textContent = song.year || '';
  metaArtist.textContent = song.artist || '';
  metaTitle.textContent = song.title || '';
}

function escapeHtml(str){
  if(!str) return '';
  return str.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;');
}

songs.forEach((s,i) => {
  const entry = makeEntry(s,i);
  menu.appendChild(entry);
});

if(songs.length) showSong(songs[0]);

</script>

</body>
</html>
